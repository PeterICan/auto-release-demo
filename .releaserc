# å®šç¾©å°‡releaseçš„åˆ†æ”¯ (ä¾†æºï¼šhttps://semantic-release.gitbook.io/semantic-release/usage/configuration#options)
# release.config.yml æˆ– .releaserc.yml
branches:
  # ä¸»ç™¼å¸ƒåˆ†æ”¯ - ç™¼å¸ƒç©©å®šç‰ˆæœ¬åˆ° @latest
  - name: "main"
    # range: "0.x.x" é€šå¸¸ä¸è¨­åœ¨ main ä¸Šï¼Œé™¤éä½ ç‰¹æ„æƒ³é™åˆ¶ä¸»è¦ç‰ˆæœ¬è™Ÿ
    # prerelease: false (æˆ–ä¸è¨­å®šï¼Œé è¨­å°±æ˜¯ false)
    # channel: "@latest" (æˆ–ä¸è¨­å®šï¼Œé è¨­å°±æ˜¯ @latest)

  # é ç™¼å¸ƒé–‹ç™¼åˆ†æ”¯ - ç™¼å¸ƒé è¦½ç‰ˆæœ¬åˆ°ç‰¹å®šçš„é€šé“ (ä¾‹å¦‚ npm çš„ @next, @beta æˆ– @dev)
  - name: "dev" # å¸¸ç”¨ä½œä¸»è¦é–‹ç™¼ç·š
    channel: "dev" # å¯é¸ï¼ŒæŒ‡å®šé€šé“åç¨±ï¼Œå¦å‰‡é»˜èªæ˜¯åˆ†æ”¯åä½œç‚ºé€šé“å
    prerelease: true # è‡ªå‹•ç”Ÿæˆå¦‚ 0.1.0-dev.1, 0.1.0-dev.2

  - name: "milestones" # milestone åˆ†æ”¯ - é©—æ”¶ç‰ˆæœ¬
    prerelease: false # ä¸è‡ªå‹•ç”Ÿæˆé ç™¼å¸ƒç‰ˆæœ¬
  
  - name: "release/*" # é‡å°å¤§ç‰ˆæœ¬çš„betaåˆ†æ”¯
    prerelease: "beta" # ä¾‹å¦‚ beta åˆ†æ”¯æœƒç”Ÿæˆ X.0.0-beta.1, X.0.0-beta.2 ç­‰ç‰ˆæœ¬

  # ç¶­è­·åˆ†æ”¯ - ç‚ºèˆŠä¸»è¦ç‰ˆæœ¬æä¾›æ›´æ–°ï¼Œç™¼å¸ƒåˆ°ç‰¹å®šé€šé“
  # - name: "1.x.x"
  #   range: "1.x.x"
  #   channel: "1.x" # ä¾‹å¦‚ npm install my-package@1.x

  # å…¶ä»–é ç™¼å¸ƒåˆ†æ”¯ï¼Œå¦‚æœéœ€è¦
  # - name: "alpha"
  #   prerelease: "alpha"
  #   channel: "alpha"

  # milestone åˆ†æ”¯ - ç”¨æ–¼ç‰¹å®šç‰ˆæœ¬çš„ç™¼å¸ƒ
  # - name: "milestone"
  #   range: "0.x.x"


plugins:
  - - "@semantic-release/commit-analyzer"
    - preset: "angular" # ä¿ç•™ commit-analyzer çš„ preset
      releaseRules:
      - type: "patch"
        release: "patch"
      - type: "major"
        release: "major"
      - type: "art"
        release: false
  - - "@semantic-release/release-notes-generator"
    - preset: "conventionalcommits"
      presetConfig:
    # é€™æ˜¯å› ç‚ºéœ€è¦å®Œå…¨æ§åˆ¶ transform å‡½æ•¸ï¼Œé¿å… preset çš„å…§éƒ¨ transform è¦†è“‹æˆ‘å€‘çš„é‚è¼¯ã€‚
    # å¦‚æœç§»é™¤ presetï¼Œå°‡éœ€è¦æ‰‹å‹•å®šç¾©æ‰€æœ‰ commitTypes å’Œ releaseRules å°æ‡‰çš„ sectionã€‚
    # æ›´å¥½çš„æ–¹å¼æ˜¯ä¿ç•™ presetï¼Œä¸¦è¦†è“‹å…¶ transformã€‚
        types:
          # --- æ ¸å¿ƒåŠŸèƒ½é¡å‹ ---
          - type: "major" # å°‡ 'major' type æ˜ å°„åˆ°ã€ŒğŸš€ é‡å¤§æ›´æ–°ã€
            section: "âœ¨ æ–°åŠŸèƒ½"
            hidden: false
          - type: "feat" # å°‡ 'feat' type æ˜ å°„åˆ°ã€Œâœ¨ æ–°åŠŸèƒ½ã€
            section: "âœ¨ æ–°åŠŸèƒ½"
            hidden: false
          - type: "patch" # å°‡ 'patch' type æ˜ å°„åˆ°ã€ŒğŸ’¡ å¾®å¹…åŠŸèƒ½/ä¿®æ­£ã€
            section: "ğŸ’¡ å¾®å¹…åŠŸèƒ½"
            hidden: false

          # --- ä¿®å¾©é¡å‹ ---
          - type: "fix"
            section: "ğŸ› Bug ä¿®å¾©"
            hidden: false

          # --- å…¶ä»–è‡ªå®šç¾©é¡å‹ ---
          - type: "art" # å°‡ 'art' type æ˜ å°„åˆ°ã€ŒğŸ¨ ç¾è¡“èˆ‡è¦–è¦ºè³‡æºæ›´æ–°ã€
            section: "ğŸ¨ ç¾è¡“èˆ‡è¦–è¦ºè³‡æºæ›´æ–°"
            hidden: false

          # --- å…¶ä»–æ¨™æº–é¡å‹ (å¿…é ˆå…¨éƒ¨æ˜ç¢ºåˆ—å‡ºï¼Œå¦å‰‡æœƒè¢«éš±è—) ---
          - type: "perf"
            section: "âš¡ æ€§èƒ½å„ªåŒ–"
            hidden: false
          - type: "refactor"
            section: "ğŸ§¹ ç¨‹å¼ç¢¼é‡æ§‹"
            hidden: false
          - type: "docs"
            section: "ğŸ“ æ–‡ä»¶æ›´æ–°"
            hidden: false
          - type: "chore"
            section: "ğŸ”§ å…¶ä»–é›œé …"
            hidden: false
          - type: "revert"
            section: "âª ç‰ˆæœ¬å›æº¯"
            hidden: false

          # æ‚¨å¯ä»¥é¸æ“‡åœ¨é€™è£¡å°‡ä¸å¸Œæœ›é¡¯ç¤ºçš„é¡å‹æ˜ç¢ºè¨­å®š hidden: true
          - type: "style"
            hidden: true
          - type: "test"
            hidden: true
          - type: "build"
            hidden: true
          - type: "ci"
            hidden: true
            
  - "@semantic-release/github" # é€™å€‹æ˜¯æ’ä»¶åç¨±
  - - assets: # é€™æ˜¯æ’ä»¶çš„é¸é …ï¼Œå®ƒæ˜¯ä¸€å€‹ç‰©ä»¶
        - path: "test.txt"
          label: "æ¸¬è©¦æ–‡æœ¬"